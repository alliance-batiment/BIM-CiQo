(self.webpackChunkciqo=self.webpackChunkciqo||[]).push([[570],{60359:function(e,t,r){"use strict";var n=r(28793);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,u){if(u!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},3772:function(e,t,r){e.exports=r(60359)()},28793:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},70593:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=i?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=e[u]}o.default=e,r&&r.set(e,o);return o}(r(92950)),i=a(r(3772)),u=a(r(54949)),c=r(69995);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var g={code:"search",token:"hash"},w={code:"code",token:"access_token"},m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,r,n,i=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onBtnClick=t.onBtnClick.bind(v(t)),t.onRequest=t.onRequest.bind(v(t)),t.onSuccess=t.onSuccess.bind(v(t)),t.onFailure=t.onFailure.bind(v(t)),t}return t=a,r=[{key:"onBtnClick",value:function(){var e=this.props,t=e.buttonText,r=e.authorizationUrl,n=e.clientId,o=e.scope,i=e.redirectUri,a=e.state,s=e.responseType,l=e.popupWidth,d=e.popupHeight,y=e.isCrossOrigin,h=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({client_id:n,scope:o,redirect_uri:i,response_type:s},e.extraParams);a&&(h.state=a);var b=(0,c.toQuery)(h),v=l,O=d,w=window.screenX+(window.outerWidth-v)/2,m=window.screenY+(window.outerHeight-O)/2.5,P=g[s],j=u.default.open(t,"".concat(r,"?").concat(b),{height:O,width:v,top:m,left:w},{locationKey:P,isCrossOrigin:y});this.popup=j,this.onRequest(),j.then(this.onSuccess).catch(this.onFailure)}},{key:"onRequest",value:function(){var e=this.props.onRequest;e()}},{key:"onSuccess",value:function(e){var t=this.props,r=t.responseType,n=t.onSuccess,o=t.isCrossOrigin,i=w[r];return o||e[i]?n(e):(console.error("received data",e),this.onFailure(new Error("'".concat(i,"' not found in received data"))))}},{key:"onFailure",value:function(e){var t=this.props.onFailure;t(e)}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.className,n=e.buttonText,i=e.children,u=e.render;if(u)return u({className:r,buttonText:n,children:i,onClick:this.onBtnClick});var c={onClick:this.onBtnClick};return t&&(c.id=t),r&&(c.className=r),o.default.createElement("button",l({type:"button"},c),i||n)}}],r&&d(t.prototype,r),n&&d(t,n),a}(o.Component);m.defaultProps={id:void 0,buttonText:"Login",scope:"",state:"",className:"",children:null,popupWidth:680,popupHeight:680,render:null,isCrossOrigin:!1,extraParams:{},onRequest:function(){}},m.propTypes={id:i.default.string,authorizationUrl:i.default.string.isRequired,clientId:i.default.string.isRequired,redirectUri:i.default.string.isRequired,responseType:i.default.oneOf(["code","token"]).isRequired,onSuccess:i.default.func.isRequired,onFailure:i.default.func.isRequired,buttonText:i.default.string,children:i.default.node,popupWidth:i.default.number,popupHeight:i.default.number,className:i.default.string,render:i.default.func,isCrossOrigin:i.default.bool,onRequest:i.default.func,scope:i.default.string,state:i.default.string,extraParams:i.default.object};var P=m;t.default=P},54949:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(69995);function o(e,t,r){return o=i()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o},o.apply(null,arguments)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c(this,e),this.id=t,this.url=r,this.popupOptions=n,this.locationKey=o.locationKey,this.isCrossOrigin=o.isCrossOrigin,this.response=null,this.handlePostMessage=this.handlePostMessage.bind(this)}var t,r,i;return t=e,r=[{key:"handlePostMessage",value:function(e){"deliverResult"===e.data.message&&(this.response=e.data.result)}},{key:"open",value:function(){var e=this.url,t=this.id,r=this.popupOptions;this.isCrossOrigin&&window.addEventListener("message",this.handlePostMessage),this.window=window.open(e,t,(0,n.toQuery)(r,","))}},{key:"close",value:function(){this.cancel(),this.window.close(),window.removeEventListener("message",this.handlePostMessage)}},{key:"poll",value:function(){var e=this;this.promise=new Promise((function(t,r){e.iid=window.setInterval((function(){try{var o=e.window;if(!o||!1!==o.closed)return e.close(),void r(new Error("The popup was closed for an unexpected reason"));if(e.isCrossOrigin){if(!e.response)return void o.postMessage({message:"requestResult"},"*");t(e.response),e.close()}else{if(o.location.href===e.url||"blank"===o.location.pathname)return;if(!["search","hash"].includes(e.locationKey))return r(new Error("Cannot get data from location.".concat(e.locationKey,", check the responseType prop"))),void e.close();var i=o.location[e.locationKey],u=(0,n.toParams)(i);t(u),e.close()}}catch(c){"SecurityError"===c.name&&c.message.includes("Blocked a frame with origin")?console.warn('Encountered a cross-origin error, is your authorization URL on a different server? Use the "isCrossOrigin" property, see documentation for details.'):console.error(c)}}),500)}))}},{key:"cancel",value:function(){this.iid&&(window.clearInterval(this.iid),this.iid=null)}},{key:"then",value:function(){var e;return(e=this.promise).then.apply(e,arguments)}},{key:"catch",value:function(){var e;return(e=this.promise).catch.apply(e,arguments)}}],i=[{key:"open",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=o(this,t);return n.open(),n.poll(),n}}],r&&a(t.prototype,r),i&&a(t,i),e}(),l=s;t.default=l},20570:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((n=r(70593))&&n.__esModule?n:{default:n}).default;t.default=o},69995:function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.toParams=function(e){return e.replace(/^(\?|#)/,"").split("&").reduce((function(e,t){var r,u,c=t.split("="),a=(u=2,function(e){if(Array.isArray(e))return e}(r=c)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],u=!0,c=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(a){c=!0,o=a}finally{try{u||null==r.return||r.return()}finally{if(c)throw o}}return i}}(r,u)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(r,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1];return n(n({},e),{},o({},s,decodeURIComponent(l)))}),{})},t.toQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",r=Object.keys(e);return r.reduce((function(n,o,i){var u="".concat(n).concat(o,"=").concat(e[o]);return i<r.length-1&&(u+=t),u}),"")}}}]);
//# sourceMappingURL=570.bundle.js.map