{"version":3,"file":"906.bundle.js","mappings":"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","sources":["webpack://ciqo/./node_modules/three/examples/jsm/lines/LineSegmentsGeometry.js","webpack://ciqo/./node_modules/three/examples/jsm/lines/LineSegments2.js","webpack://ciqo/../../../../src/components/display/clipping-planes/clipping-edges.ts","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/get.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","webpack://ciqo/./module-federation/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://ciqo/./node_modules/three/examples/jsm/controls/TransformControls.js","webpack://ciqo/./node_modules/three/examples/jsm/lines/LineMaterial.js","webpack://ciqo/./node_modules/three/examples/jsm/shaders/HorizontalBlurShader.js","webpack://ciqo/./node_modules/three/examples/jsm/shaders/VerticalBlurShader.js","webpack://ciqo/./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js"],"sourcesContent":["import {\n\tBox3,\n\tFloat32BufferAttribute,\n\tInstancedBufferGeometry,\n\tInstancedInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tSphere,\n\tVector3,\n\tWireframeGeometry\n} from 'three';\n\nconst _box = new Box3();\nconst _vector = new Vector3();\n\nclass LineSegmentsGeometry extends InstancedBufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineSegmentsGeometry';\n\n\t\tconst positions = [ - 1, 2, 0, 1, 2, 0, - 1, 1, 0, 1, 1, 0, - 1, 0, 0, 1, 0, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\t\tconst uvs = [ - 1, 2, 1, 2, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 2, 1, - 2 ];\n\t\tconst index = [ 0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5 ];\n\n\t\tthis.setIndex( index );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst start = this.attributes.instanceStart;\n\t\tconst end = this.attributes.instanceEnd;\n\n\t\tif ( start !== undefined ) {\n\n\t\t\tstart.applyMatrix4( matrix );\n\n\t\t\tend.applyMatrix4( matrix );\n\n\t\t\tstart.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetPositions( array ) {\n\n\t\tlet lineSegments;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\tlineSegments = array;\n\n\t\t} else if ( Array.isArray( array ) ) {\n\n\t\t\tlineSegments = new Float32Array( array );\n\n\t\t}\n\n\t\tconst instanceBuffer = new InstancedInterleavedBuffer( lineSegments, 6, 1 ); // xyz, xyz\n\n\t\tthis.setAttribute( 'instanceStart', new InterleavedBufferAttribute( instanceBuffer, 3, 0 ) ); // xyz\n\t\tthis.setAttribute( 'instanceEnd', new InterleavedBufferAttribute( instanceBuffer, 3, 3 ) ); // xyz\n\n\t\t//\n\n\t\tthis.computeBoundingBox();\n\t\tthis.computeBoundingSphere();\n\n\t\treturn this;\n\n\t}\n\n\tsetColors( array ) {\n\n\t\tlet colors;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\tcolors = array;\n\n\t\t} else if ( Array.isArray( array ) ) {\n\n\t\t\tcolors = new Float32Array( array );\n\n\t\t}\n\n\t\tconst instanceColorBuffer = new InstancedInterleavedBuffer( colors, 6, 1 ); // rgb, rgb\n\n\t\tthis.setAttribute( 'instanceColorStart', new InterleavedBufferAttribute( instanceColorBuffer, 3, 0 ) ); // rgb\n\t\tthis.setAttribute( 'instanceColorEnd', new InterleavedBufferAttribute( instanceColorBuffer, 3, 3 ) ); // rgb\n\n\t\treturn this;\n\n\t}\n\n\tfromWireframeGeometry( geometry ) {\n\n\t\tthis.setPositions( geometry.attributes.position.array );\n\n\t\treturn this;\n\n\t}\n\n\tfromEdgesGeometry( geometry ) {\n\n\t\tthis.setPositions( geometry.attributes.position.array );\n\n\t\treturn this;\n\n\t}\n\n\tfromMesh( mesh ) {\n\n\t\tthis.fromWireframeGeometry( new WireframeGeometry( mesh.geometry ) );\n\n\t\t// set colors, maybe\n\n\t\treturn this;\n\n\t}\n\n\tfromLineSegments( lineSegments ) {\n\n\t\tconst geometry = lineSegments.geometry;\n\n\t\tif ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\tthis.setPositions( geometry.attributes.position.array ); // assumes non-indexed\n\n\t\t}\n\n\t\t// set colors, maybe\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst start = this.attributes.instanceStart;\n\t\tconst end = this.attributes.instanceEnd;\n\n\t\tif ( start !== undefined && end !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( start );\n\n\t\t\t_box.setFromBufferAttribute( end );\n\n\t\t\tthis.boundingBox.union( _box );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tconst start = this.attributes.instanceStart;\n\t\tconst end = this.attributes.instanceEnd;\n\n\t\tif ( start !== undefined && end !== undefined ) {\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\tthis.boundingBox.getCenter( center );\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = start.count; i < il; i ++ ) {\n\n\t\t\t\t_vector.fromBufferAttribute( start, i );\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector ) );\n\n\t\t\t\t_vector.fromBufferAttribute( end, i );\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector ) );\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\t// todo\n\n\t}\n\n\tapplyMatrix( matrix ) {\n\n\t\tconsole.warn( 'THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().' );\n\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n}\n\nLineSegmentsGeometry.prototype.isLineSegmentsGeometry = true;\n\nexport { LineSegmentsGeometry };\n","import {\n\tBox3,\n\tInstancedInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tLine3,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tSphere,\n\tVector3,\n\tVector4\n} from 'three';\nimport { LineSegmentsGeometry } from '../lines/LineSegmentsGeometry.js';\nimport { LineMaterial } from '../lines/LineMaterial.js';\n\nconst _start = new Vector3();\nconst _end = new Vector3();\n\nconst _start4 = new Vector4();\nconst _end4 = new Vector4();\n\nconst _ssOrigin = new Vector4();\nconst _ssOrigin3 = new Vector3();\nconst _mvMatrix = new Matrix4();\nconst _line = new Line3();\nconst _closestPoint = new Vector3();\n\nconst _box = new Box3();\nconst _sphere = new Sphere();\nconst _clipToWorldVector = new Vector4();\n\n// Returns the margin required to expand by in world space given the distance from the camera,\n// line width, resolution, and camera projection\nfunction getWorldSpaceHalfWidth( camera, distance, lineWidth, resolution ) {\n\n\t// transform into clip space, adjust the x and y values by the pixel width offset, then\n\t// transform back into world space to get world offset. Note clip space is [-1, 1] so full\n\t// width does not need to be halved.\n\t_clipToWorldVector.set( 0, 0, - distance, 1.0 ).applyMatrix4( camera.projectionMatrix );\n\t_clipToWorldVector.multiplyScalar( 1.0 / _clipToWorldVector.w );\n\t_clipToWorldVector.x = lineWidth / resolution.width;\n\t_clipToWorldVector.y = lineWidth / resolution.height;\n\t_clipToWorldVector.applyMatrix4( camera.projectionMatrixInverse );\n\t_clipToWorldVector.multiplyScalar( 1.0 / _clipToWorldVector.w );\n\n\treturn Math.abs( Math.max( _clipToWorldVector.x, _clipToWorldVector.y ) );\n\n}\n\nclass LineSegments2 extends Mesh {\n\n\tconstructor( geometry = new LineSegmentsGeometry(), material = new LineMaterial( { color: Math.random() * 0xffffff } ) ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineSegments2';\n\n\t}\n\n\t// for backwards-compatability, but could be a method of LineSegmentsGeometry...\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst instanceStart = geometry.attributes.instanceStart;\n\t\tconst instanceEnd = geometry.attributes.instanceEnd;\n\t\tconst lineDistances = new Float32Array( 2 * instanceStart.count );\n\n\t\tfor ( let i = 0, j = 0, l = instanceStart.count; i < l; i ++, j += 2 ) {\n\n\t\t\t_start.fromBufferAttribute( instanceStart, i );\n\t\t\t_end.fromBufferAttribute( instanceEnd, i );\n\n\t\t\tlineDistances[ j ] = ( j === 0 ) ? 0 : lineDistances[ j - 1 ];\n\t\t\tlineDistances[ j + 1 ] = lineDistances[ j ] + _start.distanceTo( _end );\n\n\t\t}\n\n\t\tconst instanceDistanceBuffer = new InstancedInterleavedBuffer( lineDistances, 2, 1 ); // d0, d1\n\n\t\tgeometry.setAttribute( 'instanceDistanceStart', new InterleavedBufferAttribute( instanceDistanceBuffer, 1, 0 ) ); // d0\n\t\tgeometry.setAttribute( 'instanceDistanceEnd', new InterleavedBufferAttribute( instanceDistanceBuffer, 1, 1 ) ); // d1\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2.' );\n\n\t\t}\n\n\t\tconst threshold = ( raycaster.params.Line2 !== undefined ) ? raycaster.params.Line2.threshold || 0 : 0;\n\n\t\tconst ray = raycaster.ray;\n\t\tconst camera = raycaster.camera;\n\t\tconst projectionMatrix = camera.projectionMatrix;\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst resolution = material.resolution;\n\t\tconst lineWidth = material.linewidth + threshold;\n\n\t\tconst instanceStart = geometry.attributes.instanceStart;\n\t\tconst instanceEnd = geometry.attributes.instanceEnd;\n\n\t\t// camera forward is negative\n\t\tconst near = - camera.near;\n\n\t\t//\n\n\t\t// check if we intersect the sphere bounds\n\t\tif ( geometry.boundingSphere === null ) {\n\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t}\n\n\t\t_sphere.copy( geometry.boundingSphere ).applyMatrix4( matrixWorld );\n\t\tconst distanceToSphere = Math.max( camera.near, _sphere.distanceToPoint( ray.origin ) );\n\n\t\t// increase the sphere bounds by the worst case line screen space width\n\t\tconst sphereMargin = getWorldSpaceHalfWidth( camera, distanceToSphere, lineWidth, resolution );\n\t\t_sphere.radius += sphereMargin;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\t// check if we intersect the box bounds\n\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\tgeometry.computeBoundingBox();\n\n\t\t}\n\n\t\t_box.copy( geometry.boundingBox ).applyMatrix4( matrixWorld );\n\t\tconst distanceToBox = Math.max( camera.near, _box.distanceToPoint( ray.origin ) );\n\n\t\t// increase the box bounds by the worst case line screen space width\n\t\tconst boxMargin = getWorldSpaceHalfWidth( camera, distanceToBox, lineWidth, resolution );\n\t\t_box.max.x += boxMargin;\n\t\t_box.max.y += boxMargin;\n\t\t_box.max.z += boxMargin;\n\t\t_box.min.x -= boxMargin;\n\t\t_box.min.y -= boxMargin;\n\t\t_box.min.z -= boxMargin;\n\n\t\tif ( raycaster.ray.intersectsBox( _box ) === false ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\t// pick a point 1 unit out along the ray to avoid the ray origin\n\t\t// sitting at the camera origin which will cause \"w\" to be 0 when\n\t\t// applying the projection matrix.\n\t\tray.at( 1, _ssOrigin );\n\n\t\t// ndc space [ - 1.0, 1.0 ]\n\t\t_ssOrigin.w = 1;\n\t\t_ssOrigin.applyMatrix4( camera.matrixWorldInverse );\n\t\t_ssOrigin.applyMatrix4( projectionMatrix );\n\t\t_ssOrigin.multiplyScalar( 1 / _ssOrigin.w );\n\n\t\t// screen space\n\t\t_ssOrigin.x *= resolution.x / 2;\n\t\t_ssOrigin.y *= resolution.y / 2;\n\t\t_ssOrigin.z = 0;\n\n\t\t_ssOrigin3.copy( _ssOrigin );\n\n\t\t_mvMatrix.multiplyMatrices( camera.matrixWorldInverse, matrixWorld );\n\n\t\tfor ( let i = 0, l = instanceStart.count; i < l; i ++ ) {\n\n\t\t\t_start4.fromBufferAttribute( instanceStart, i );\n\t\t\t_end4.fromBufferAttribute( instanceEnd, i );\n\n\t\t\t_start4.w = 1;\n\t\t\t_end4.w = 1;\n\n\t\t\t// camera space\n\t\t\t_start4.applyMatrix4( _mvMatrix );\n\t\t\t_end4.applyMatrix4( _mvMatrix );\n\n\t\t\t// skip the segment if it's entirely behind the camera\n\t\t\tvar isBehindCameraNear = _start4.z > near && _end4.z > near;\n\t\t\tif ( isBehindCameraNear ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// trim the segment if it extends behind camera near\n\t\t\tif ( _start4.z > near ) {\n\n\t\t\t\tconst deltaDist = _start4.z - _end4.z;\n\t\t\t\tconst t = ( _start4.z - near ) / deltaDist;\n\t\t\t\t_start4.lerp( _end4, t );\n\n\t\t\t} else if ( _end4.z > near ) {\n\n\t\t\t\tconst deltaDist = _end4.z - _start4.z;\n\t\t\t\tconst t = ( _end4.z - near ) / deltaDist;\n\t\t\t\t_end4.lerp( _start4, t );\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\t_start4.applyMatrix4( projectionMatrix );\n\t\t\t_end4.applyMatrix4( projectionMatrix );\n\n\t\t\t// ndc space [ - 1.0, 1.0 ]\n\t\t\t_start4.multiplyScalar( 1 / _start4.w );\n\t\t\t_end4.multiplyScalar( 1 / _end4.w );\n\n\t\t\t// screen space\n\t\t\t_start4.x *= resolution.x / 2;\n\t\t\t_start4.y *= resolution.y / 2;\n\n\t\t\t_end4.x *= resolution.x / 2;\n\t\t\t_end4.y *= resolution.y / 2;\n\n\t\t\t// create 2d segment\n\t\t\t_line.start.copy( _start4 );\n\t\t\t_line.start.z = 0;\n\n\t\t\t_line.end.copy( _end4 );\n\t\t\t_line.end.z = 0;\n\n\t\t\t// get closest point on ray to segment\n\t\t\tconst param = _line.closestPointToPointParameter( _ssOrigin3, true );\n\t\t\t_line.at( param, _closestPoint );\n\n\t\t\t// check if the intersection point is within clip space\n\t\t\tconst zPos = MathUtils.lerp( _start4.z, _end4.z, param );\n\t\t\tconst isInClipSpace = zPos >= - 1 && zPos <= 1;\n\n\t\t\tconst isInside = _ssOrigin3.distanceTo( _closestPoint ) < lineWidth * 0.5;\n\n\t\t\tif ( isInClipSpace && isInside ) {\n\n\t\t\t\t_line.start.fromBufferAttribute( instanceStart, i );\n\t\t\t\t_line.end.fromBufferAttribute( instanceEnd, i );\n\n\t\t\t\t_line.start.applyMatrix4( matrixWorld );\n\t\t\t\t_line.end.applyMatrix4( matrixWorld );\n\n\t\t\t\tconst pointOnLine = new Vector3();\n\t\t\t\tconst point = new Vector3();\n\n\t\t\t\tray.distanceSqToSegment( _line.start, _line.end, point, pointOnLine );\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tpoint: point,\n\t\t\t\t\tpointOnLine: pointOnLine,\n\t\t\t\t\tdistance: ray.origin.distanceTo( point ),\n\n\t\t\t\t\tobject: this,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: i,\n\t\t\t\t\tuv: null,\n\t\t\t\t\tuv2: null,\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nLineSegments2.prototype.isLineSegments2 = true;\n\nexport { LineSegments2 };\n",null,"export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import {\n\tBoxGeometry,\n\tBufferGeometry,\n\tCylinderGeometry,\n\tDoubleSide,\n\tEuler,\n\tFloat32BufferAttribute,\n\tLine,\n\tLineBasicMaterial,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tObject3D,\n\tOctahedronGeometry,\n\tPlaneGeometry,\n\tQuaternion,\n\tRaycaster,\n\tSphereGeometry,\n\tTorusGeometry,\n\tVector3\n} from 'three';\n\nconst _raycaster = new Raycaster();\n\nconst _tempVector = new Vector3();\nconst _tempVector2 = new Vector3();\nconst _tempQuaternion = new Quaternion();\nconst _unit = {\n\tX: new Vector3( 1, 0, 0 ),\n\tY: new Vector3( 0, 1, 0 ),\n\tZ: new Vector3( 0, 0, 1 )\n};\n\nconst _changeEvent = { type: 'change' };\nconst _mouseDownEvent = { type: 'mouseDown' };\nconst _mouseUpEvent = { type: 'mouseUp', mode: null };\nconst _objectChangeEvent = { type: 'objectChange' };\n\nclass TransformControls extends Object3D {\n\n\tconstructor( camera, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tthis.visible = false;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\tconst _gizmo = new TransformControlsGizmo();\n\t\tthis._gizmo = _gizmo;\n\t\tthis.add( _gizmo );\n\n\t\tconst _plane = new TransformControlsPlane();\n\t\tthis._plane = _plane;\n\t\tthis.add( _plane );\n\n\t\tconst scope = this;\n\n\t\t// Defined getter, setter and store for a property\n\t\tfunction defineProperty( propName, defaultValue ) {\n\n\t\t\tlet propValue = defaultValue;\n\n\t\t\tObject.defineProperty( scope, propName, {\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn propValue !== undefined ? propValue : defaultValue;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tif ( propValue !== value ) {\n\n\t\t\t\t\t\tpropValue = value;\n\t\t\t\t\t\t_plane[ propName ] = value;\n\t\t\t\t\t\t_gizmo[ propName ] = value;\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: propName + '-changed', value: value } );\n\t\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tscope[ propName ] = defaultValue;\n\t\t\t_plane[ propName ] = defaultValue;\n\t\t\t_gizmo[ propName ] = defaultValue;\n\n\t\t}\n\n\t\t// Define properties with getters/setter\n\t\t// Setting the defined property will automatically trigger change event\n\t\t// Defined properties are passed down to gizmo and plane\n\n\t\tdefineProperty( 'camera', camera );\n\t\tdefineProperty( 'object', undefined );\n\t\tdefineProperty( 'enabled', true );\n\t\tdefineProperty( 'axis', null );\n\t\tdefineProperty( 'mode', 'translate' );\n\t\tdefineProperty( 'translationSnap', null );\n\t\tdefineProperty( 'rotationSnap', null );\n\t\tdefineProperty( 'scaleSnap', null );\n\t\tdefineProperty( 'space', 'world' );\n\t\tdefineProperty( 'size', 1 );\n\t\tdefineProperty( 'dragging', false );\n\t\tdefineProperty( 'showX', true );\n\t\tdefineProperty( 'showY', true );\n\t\tdefineProperty( 'showZ', true );\n\n\t\t// Reusable utility variables\n\n\t\tconst worldPosition = new Vector3();\n\t\tconst worldPositionStart = new Vector3();\n\t\tconst worldQuaternion = new Quaternion();\n\t\tconst worldQuaternionStart = new Quaternion();\n\t\tconst cameraPosition = new Vector3();\n\t\tconst cameraQuaternion = new Quaternion();\n\t\tconst pointStart = new Vector3();\n\t\tconst pointEnd = new Vector3();\n\t\tconst rotationAxis = new Vector3();\n\t\tconst rotationAngle = 0;\n\t\tconst eye = new Vector3();\n\n\t\t// TODO: remove properties unused in plane and gizmo\n\n\t\tdefineProperty( 'worldPosition', worldPosition );\n\t\tdefineProperty( 'worldPositionStart', worldPositionStart );\n\t\tdefineProperty( 'worldQuaternion', worldQuaternion );\n\t\tdefineProperty( 'worldQuaternionStart', worldQuaternionStart );\n\t\tdefineProperty( 'cameraPosition', cameraPosition );\n\t\tdefineProperty( 'cameraQuaternion', cameraQuaternion );\n\t\tdefineProperty( 'pointStart', pointStart );\n\t\tdefineProperty( 'pointEnd', pointEnd );\n\t\tdefineProperty( 'rotationAxis', rotationAxis );\n\t\tdefineProperty( 'rotationAngle', rotationAngle );\n\t\tdefineProperty( 'eye', eye );\n\n\t\tthis._offset = new Vector3();\n\t\tthis._startNorm = new Vector3();\n\t\tthis._endNorm = new Vector3();\n\t\tthis._cameraScale = new Vector3();\n\n\t\tthis._parentPosition = new Vector3();\n\t\tthis._parentQuaternion = new Quaternion();\n\t\tthis._parentQuaternionInv = new Quaternion();\n\t\tthis._parentScale = new Vector3();\n\n\t\tthis._worldScaleStart = new Vector3();\n\t\tthis._worldQuaternionInv = new Quaternion();\n\t\tthis._worldScale = new Vector3();\n\n\t\tthis._positionStart = new Vector3();\n\t\tthis._quaternionStart = new Quaternion();\n\t\tthis._scaleStart = new Vector3();\n\n\t\tthis._getPointer = getPointer.bind( this );\n\t\tthis._onPointerDown = onPointerDown.bind( this );\n\t\tthis._onPointerHover = onPointerHover.bind( this );\n\t\tthis._onPointerMove = onPointerMove.bind( this );\n\t\tthis._onPointerUp = onPointerUp.bind( this );\n\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointermove', this._onPointerHover );\n\t\tthis.domElement.addEventListener( 'pointerup', this._onPointerUp );\n\n\t}\n\n\t// updateMatrixWorld  updates key transformation variables\n\tupdateMatrixWorld() {\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\tif ( this.object.parent === null ) {\n\n\t\t\t\tconsole.error( 'TransformControls: The attached 3D object must be a part of the scene graph.' );\n\n\t\t\t} else {\n\n\t\t\t\tthis.object.parent.matrixWorld.decompose( this._parentPosition, this._parentQuaternion, this._parentScale );\n\n\t\t\t}\n\n\t\t\tthis.object.matrixWorld.decompose( this.worldPosition, this.worldQuaternion, this._worldScale );\n\n\t\t\tthis._parentQuaternionInv.copy( this._parentQuaternion ).invert();\n\t\t\tthis._worldQuaternionInv.copy( this.worldQuaternion ).invert();\n\n\t\t}\n\n\t\tthis.camera.updateMatrixWorld();\n\t\tthis.camera.matrixWorld.decompose( this.cameraPosition, this.cameraQuaternion, this._cameraScale );\n\n\t\tthis.eye.copy( this.cameraPosition ).sub( this.worldPosition ).normalize();\n\n\t\tsuper.updateMatrixWorld( this );\n\n\t}\n\n\tpointerHover( pointer ) {\n\n\t\tif ( this.object === undefined || this.dragging === true ) return;\n\n\t\t_raycaster.setFromCamera( pointer, this.camera );\n\n\t\tconst intersect = intersectObjectWithRay( this._gizmo.picker[ this.mode ], _raycaster );\n\n\t\tif ( intersect ) {\n\n\t\t\tthis.axis = intersect.object.name;\n\n\t\t} else {\n\n\t\t\tthis.axis = null;\n\n\t\t}\n\n\t}\n\n\tpointerDown( pointer ) {\n\n\t\tif ( this.object === undefined || this.dragging === true || pointer.button !== 0 ) return;\n\n\t\tif ( this.axis !== null ) {\n\n\t\t\t_raycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tconst planeIntersect = intersectObjectWithRay( this._plane, _raycaster, true );\n\n\t\t\tif ( planeIntersect ) {\n\n\t\t\t\tthis.object.updateMatrixWorld();\n\t\t\t\tthis.object.parent.updateMatrixWorld();\n\n\t\t\t\tthis._positionStart.copy( this.object.position );\n\t\t\t\tthis._quaternionStart.copy( this.object.quaternion );\n\t\t\t\tthis._scaleStart.copy( this.object.scale );\n\n\t\t\t\tthis.object.matrixWorld.decompose( this.worldPositionStart, this.worldQuaternionStart, this._worldScaleStart );\n\n\t\t\t\tthis.pointStart.copy( planeIntersect.point ).sub( this.worldPositionStart );\n\n\t\t\t}\n\n\t\t\tthis.dragging = true;\n\t\t\t_mouseDownEvent.mode = this.mode;\n\t\t\tthis.dispatchEvent( _mouseDownEvent );\n\n\t\t}\n\n\t}\n\n\tpointerMove( pointer ) {\n\n\t\tconst axis = this.axis;\n\t\tconst mode = this.mode;\n\t\tconst object = this.object;\n\t\tlet space = this.space;\n\n\t\tif ( mode === 'scale' ) {\n\n\t\t\tspace = 'local';\n\n\t\t} else if ( axis === 'E' || axis === 'XYZE' || axis === 'XYZ' ) {\n\n\t\t\tspace = 'world';\n\n\t\t}\n\n\t\tif ( object === undefined || axis === null || this.dragging === false || pointer.button !== - 1 ) return;\n\n\t\t_raycaster.setFromCamera( pointer, this.camera );\n\n\t\tconst planeIntersect = intersectObjectWithRay( this._plane, _raycaster, true );\n\n\t\tif ( ! planeIntersect ) return;\n\n\t\tthis.pointEnd.copy( planeIntersect.point ).sub( this.worldPositionStart );\n\n\t\tif ( mode === 'translate' ) {\n\n\t\t\t// Apply translate\n\n\t\t\tthis._offset.copy( this.pointEnd ).sub( this.pointStart );\n\n\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\tthis._offset.applyQuaternion( this._worldQuaternionInv );\n\n\t\t\t}\n\n\t\t\tif ( axis.indexOf( 'X' ) === - 1 ) this._offset.x = 0;\n\t\t\tif ( axis.indexOf( 'Y' ) === - 1 ) this._offset.y = 0;\n\t\t\tif ( axis.indexOf( 'Z' ) === - 1 ) this._offset.z = 0;\n\n\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\tthis._offset.applyQuaternion( this._quaternionStart ).divide( this._parentScale );\n\n\t\t\t} else {\n\n\t\t\t\tthis._offset.applyQuaternion( this._parentQuaternionInv ).divide( this._parentScale );\n\n\t\t\t}\n\n\t\t\tobject.position.copy( this._offset ).add( this._positionStart );\n\n\t\t\t// Apply translation snap\n\n\t\t\tif ( this.translationSnap ) {\n\n\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\tobject.position.applyQuaternion( _tempQuaternion.copy( this._quaternionStart ).invert() );\n\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.position.applyQuaternion( this._quaternionStart );\n\n\t\t\t\t}\n\n\t\t\t\tif ( space === 'world' ) {\n\n\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\tobject.position.add( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\tobject.position.sub( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( mode === 'scale' ) {\n\n\t\t\tif ( axis.search( 'XYZ' ) !== - 1 ) {\n\n\t\t\t\tlet d = this.pointEnd.length() / this.pointStart.length();\n\n\t\t\t\tif ( this.pointEnd.dot( this.pointStart ) < 0 ) d *= - 1;\n\n\t\t\t\t_tempVector2.set( d, d, d );\n\n\t\t\t} else {\n\n\t\t\t\t_tempVector.copy( this.pointStart );\n\t\t\t\t_tempVector2.copy( this.pointEnd );\n\n\t\t\t\t_tempVector.applyQuaternion( this._worldQuaternionInv );\n\t\t\t\t_tempVector2.applyQuaternion( this._worldQuaternionInv );\n\n\t\t\t\t_tempVector2.divide( _tempVector );\n\n\t\t\t\tif ( axis.search( 'X' ) === - 1 ) {\n\n\t\t\t\t\t_tempVector2.x = 1;\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.search( 'Y' ) === - 1 ) {\n\n\t\t\t\t\t_tempVector2.y = 1;\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.search( 'Z' ) === - 1 ) {\n\n\t\t\t\t\t_tempVector2.z = 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Apply scale\n\n\t\t\tobject.scale.copy( this._scaleStart ).multiply( _tempVector2 );\n\n\t\t\tif ( this.scaleSnap ) {\n\n\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\tobject.scale.x = Math.round( object.scale.x / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\tobject.scale.y = Math.round( object.scale.y / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\tobject.scale.z = Math.round( object.scale.z / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( mode === 'rotate' ) {\n\n\t\t\tthis._offset.copy( this.pointEnd ).sub( this.pointStart );\n\n\t\t\tconst ROTATION_SPEED = 20 / this.worldPosition.distanceTo( _tempVector.setFromMatrixPosition( this.camera.matrixWorld ) );\n\n\t\t\tif ( axis === 'E' ) {\n\n\t\t\t\tthis.rotationAxis.copy( this.eye );\n\t\t\t\tthis.rotationAngle = this.pointEnd.angleTo( this.pointStart );\n\n\t\t\t\tthis._startNorm.copy( this.pointStart ).normalize();\n\t\t\t\tthis._endNorm.copy( this.pointEnd ).normalize();\n\n\t\t\t\tthis.rotationAngle *= ( this._endNorm.cross( this._startNorm ).dot( this.eye ) < 0 ? 1 : - 1 );\n\n\t\t\t} else if ( axis === 'XYZE' ) {\n\n\t\t\t\tthis.rotationAxis.copy( this._offset ).cross( this.eye ).normalize();\n\t\t\t\tthis.rotationAngle = this._offset.dot( _tempVector.copy( this.rotationAxis ).cross( this.eye ) ) * ROTATION_SPEED;\n\n\t\t\t} else if ( axis === 'X' || axis === 'Y' || axis === 'Z' ) {\n\n\t\t\t\tthis.rotationAxis.copy( _unit[ axis ] );\n\n\t\t\t\t_tempVector.copy( _unit[ axis ] );\n\n\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t_tempVector.applyQuaternion( this.worldQuaternion );\n\n\t\t\t\t}\n\n\t\t\t\tthis.rotationAngle = this._offset.dot( _tempVector.cross( this.eye ).normalize() ) * ROTATION_SPEED;\n\n\t\t\t}\n\n\t\t\t// Apply rotation snap\n\n\t\t\tif ( this.rotationSnap ) this.rotationAngle = Math.round( this.rotationAngle / this.rotationSnap ) * this.rotationSnap;\n\n\t\t\t// Apply rotate\n\t\t\tif ( space === 'local' && axis !== 'E' && axis !== 'XYZE' ) {\n\n\t\t\t\tobject.quaternion.copy( this._quaternionStart );\n\t\t\t\tobject.quaternion.multiply( _tempQuaternion.setFromAxisAngle( this.rotationAxis, this.rotationAngle ) ).normalize();\n\n\t\t\t} else {\n\n\t\t\t\tthis.rotationAxis.applyQuaternion( this._parentQuaternionInv );\n\t\t\t\tobject.quaternion.copy( _tempQuaternion.setFromAxisAngle( this.rotationAxis, this.rotationAngle ) );\n\t\t\t\tobject.quaternion.multiply( this._quaternionStart ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.dispatchEvent( _changeEvent );\n\t\tthis.dispatchEvent( _objectChangeEvent );\n\n\t}\n\n\tpointerUp( pointer ) {\n\n\t\tif ( pointer.button !== 0 ) return;\n\n\t\tif ( this.dragging && ( this.axis !== null ) ) {\n\n\t\t\t_mouseUpEvent.mode = this.mode;\n\t\t\tthis.dispatchEvent( _mouseUpEvent );\n\n\t\t}\n\n\t\tthis.dragging = false;\n\t\tthis.axis = null;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerHover );\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\tthis.traverse( function ( child ) {\n\n\t\t\tif ( child.geometry ) child.geometry.dispose();\n\t\t\tif ( child.material ) child.material.dispose();\n\n\t\t} );\n\n\t}\n\n\t// Set current object\n\tattach( object ) {\n\n\t\tthis.object = object;\n\t\tthis.visible = true;\n\n\t\treturn this;\n\n\t}\n\n\t// Detatch from object\n\tdetach() {\n\n\t\tthis.object = undefined;\n\t\tthis.visible = false;\n\t\tthis.axis = null;\n\n\t\treturn this;\n\n\t}\n\n\tgetRaycaster() {\n\n\t\treturn _raycaster;\n\n\t}\n\n\t// TODO: deprecate\n\n\tgetMode() {\n\n\t\treturn this.mode;\n\n\t}\n\n\tsetMode( mode ) {\n\n\t\tthis.mode = mode;\n\n\t}\n\n\tsetTranslationSnap( translationSnap ) {\n\n\t\tthis.translationSnap = translationSnap;\n\n\t}\n\n\tsetRotationSnap( rotationSnap ) {\n\n\t\tthis.rotationSnap = rotationSnap;\n\n\t}\n\n\tsetScaleSnap( scaleSnap ) {\n\n\t\tthis.scaleSnap = scaleSnap;\n\n\t}\n\n\tsetSize( size ) {\n\n\t\tthis.size = size;\n\n\t}\n\n\tsetSpace( space ) {\n\n\t\tthis.space = space;\n\n\t}\n\n\tupdate() {\n\n\t\tconsole.warn( 'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.' );\n\n\t}\n\n}\n\nTransformControls.prototype.isTransformControls = true;\n\n// mouse / touch event handlers\n\nfunction getPointer( event ) {\n\n\tif ( this.domElement.ownerDocument.pointerLockElement ) {\n\n\t\treturn {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tbutton: event.button\n\t\t};\n\n\t} else {\n\n\t\tconst rect = this.domElement.getBoundingClientRect();\n\n\t\treturn {\n\t\t\tx: ( event.clientX - rect.left ) / rect.width * 2 - 1,\n\t\t\ty: - ( event.clientY - rect.top ) / rect.height * 2 + 1,\n\t\t\tbutton: event.button\n\t\t};\n\n\t}\n\n}\n\nfunction onPointerHover( event ) {\n\n\tif ( ! this.enabled ) return;\n\n\tswitch ( event.pointerType ) {\n\n\t\tcase 'mouse':\n\t\tcase 'pen':\n\t\t\tthis.pointerHover( this._getPointer( event ) );\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onPointerDown( event ) {\n\n\tif ( ! this.enabled ) return;\n\n\tthis.domElement.setPointerCapture( event.pointerId );\n\n\tthis.domElement.addEventListener( 'pointermove', this._onPointerMove );\n\n\tthis.pointerHover( this._getPointer( event ) );\n\tthis.pointerDown( this._getPointer( event ) );\n\n}\n\nfunction onPointerMove( event ) {\n\n\tif ( ! this.enabled ) return;\n\n\tthis.pointerMove( this._getPointer( event ) );\n\n}\n\nfunction onPointerUp( event ) {\n\n\tif ( ! this.enabled ) return;\n\n\tthis.domElement.releasePointerCapture( event.pointerId );\n\n\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\n\tthis.pointerUp( this._getPointer( event ) );\n\n}\n\nfunction intersectObjectWithRay( object, raycaster, includeInvisible ) {\n\n\tconst allIntersections = raycaster.intersectObject( object, true );\n\n\tfor ( let i = 0; i < allIntersections.length; i ++ ) {\n\n\t\tif ( allIntersections[ i ].object.visible || includeInvisible ) {\n\n\t\t\treturn allIntersections[ i ];\n\n\t\t}\n\n\t}\n\n\treturn false;\n\n}\n\n//\n\n// Reusable utility variables\n\nconst _tempEuler = new Euler();\nconst _alignVector = new Vector3( 0, 1, 0 );\nconst _zeroVector = new Vector3( 0, 0, 0 );\nconst _lookAtMatrix = new Matrix4();\nconst _tempQuaternion2 = new Quaternion();\nconst _identityQuaternion = new Quaternion();\nconst _dirVector = new Vector3();\nconst _tempMatrix = new Matrix4();\n\nconst _unitX = new Vector3( 1, 0, 0 );\nconst _unitY = new Vector3( 0, 1, 0 );\nconst _unitZ = new Vector3( 0, 0, 1 );\n\nconst _v1 = new Vector3();\nconst _v2 = new Vector3();\nconst _v3 = new Vector3();\n\nclass TransformControlsGizmo extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'TransformControlsGizmo';\n\n\t\t// shared materials\n\n\t\tconst gizmoMaterial = new MeshBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false,\n\t\t\ttransparent: true\n\t\t} );\n\n\t\tconst gizmoLineMaterial = new LineBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false,\n\t\t\ttransparent: true\n\t\t} );\n\n\t\t// Make unique material for each axis/color\n\n\t\tconst matInvisible = gizmoMaterial.clone();\n\t\tmatInvisible.opacity = 0.15;\n\n\t\tconst matHelper = gizmoLineMaterial.clone();\n\t\tmatHelper.opacity = 0.5;\n\n\t\tconst matRed = gizmoMaterial.clone();\n\t\tmatRed.color.setHex( 0xff0000 );\n\n\t\tconst matGreen = gizmoMaterial.clone();\n\t\tmatGreen.color.setHex( 0x00ff00 );\n\n\t\tconst matBlue = gizmoMaterial.clone();\n\t\tmatBlue.color.setHex( 0x0000ff );\n\n\t\tconst matRedTransparent = gizmoMaterial.clone();\n\t\tmatRedTransparent.color.setHex( 0xff0000 );\n\t\tmatRedTransparent.opacity = 0.5;\n\n\t\tconst matGreenTransparent = gizmoMaterial.clone();\n\t\tmatGreenTransparent.color.setHex( 0x00ff00 );\n\t\tmatGreenTransparent.opacity = 0.5;\n\n\t\tconst matBlueTransparent = gizmoMaterial.clone();\n\t\tmatBlueTransparent.color.setHex( 0x0000ff );\n\t\tmatBlueTransparent.opacity = 0.5;\n\n\t\tconst matWhiteTransparent = gizmoMaterial.clone();\n\t\tmatWhiteTransparent.opacity = 0.25;\n\n\t\tconst matYellowTransparent = gizmoMaterial.clone();\n\t\tmatYellowTransparent.color.setHex( 0xffff00 );\n\t\tmatYellowTransparent.opacity = 0.25;\n\n\t\tconst matYellow = gizmoMaterial.clone();\n\t\tmatYellow.color.setHex( 0xffff00 );\n\n\t\tconst matGray = gizmoMaterial.clone();\n\t\tmatGray.color.setHex( 0x787878 );\n\n\t\t// reusable geometry\n\n\t\tconst arrowGeometry = new CylinderGeometry( 0, 0.04, 0.1, 12 );\n\t\tarrowGeometry.translate( 0, 0.05, 0 );\n\n\t\tconst scaleHandleGeometry = new BoxGeometry( 0.08, 0.08, 0.08 );\n\t\tscaleHandleGeometry.translate( 0, 0.04, 0 );\n\n\t\tconst lineGeometry = new BufferGeometry();\n\t\tlineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0,\t1, 0, 0 ], 3 ) );\n\n\t\tconst lineGeometry2 = new CylinderGeometry( 0.0075, 0.0075, 0.5, 3 );\n\t\tlineGeometry2.translate( 0, 0.25, 0 );\n\n\t\tfunction CircleGeometry( radius, arc ) {\n\n\t\t\tconst geometry = new TorusGeometry( radius, 0.0075, 3, 64, arc * Math.PI * 2 );\n\t\t\tgeometry.rotateY( Math.PI / 2 );\n\t\t\tgeometry.rotateX( Math.PI / 2 );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\t// Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\t\tfunction TranslateHelperGeometry() {\n\n\t\t\tconst geometry = new BufferGeometry();\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 1, 1, 1 ], 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\t// Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\t\tconst gizmoTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ - 0.5, 0, 0 ], [ 0, 0, Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( lineGeometry2, matRed ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 0.5, 0 ]],\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, - 0.5, 0 ], [ Math.PI, 0, 0 ]],\n\t\t\t\t[ new Mesh( lineGeometry2, matGreen ) ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, - 0.5 ], [ - Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Mesh( lineGeometry2, matBlue ), null, [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.1, 0 ), matWhiteTransparent.clone() ), [ 0, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matBlueTransparent.clone() ), [ 0.15, 0.15, 0 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matRedTransparent.clone() ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matGreenTransparent.clone() ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tconst pickerTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0.3, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ - 0.3, 0, 0 ], [ 0, 0, Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0.3, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, - 0.3, 0 ], [ 0, 0, Math.PI ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, 0.3 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, - 0.3 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.2, 0 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0.15, 0 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tconst helperTranslate = {\n\t\t\tSTART: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tEND: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tDELTA: [\n\t\t\t\t[ new Line( TranslateHelperGeometry(), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tconst gizmoRotate = {\n\t\t\tXYZE: [\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 1 ), matGray ), null, [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tX: [\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 0.5 ), matRed ) ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 0.5 ), matGreen ), null, [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( CircleGeometry( 0.5, 0.5 ), matBlue ), null, [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Mesh( CircleGeometry( 0.75, 1 ), matYellowTransparent ), null, [ 0, Math.PI / 2, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tconst helperRotate = {\n\t\t\tAXIS: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tconst pickerRotate = {\n\t\t\tXYZE: [\n\t\t\t\t[ new Mesh( new SphereGeometry( 0.25, 10, 8 ), matInvisible ) ]\n\t\t\t],\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.5, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, - Math.PI / 2, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.5, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.5, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 0.75, 0.1, 2, 24 ), matInvisible ) ]\n\t\t\t]\n\t\t};\n\n\t\tconst gizmoScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( lineGeometry2, matRed ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ - 0.5, 0, 0 ], [ 0, 0, Math.PI / 2 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, 0.5, 0 ]],\n\t\t\t\t[ new Mesh( lineGeometry2, matGreen ) ],\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, - 0.5, 0 ], [ 0, 0, Math.PI ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Mesh( lineGeometry2, matBlue ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, - 0.5 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matBlueTransparent ), [ 0.15, 0.15, 0 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matRedTransparent ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.15, 0.15, 0.01 ), matGreenTransparent ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.1, 0.1, 0.1 ), matWhiteTransparent.clone() ) ],\n\t\t\t]\n\t\t};\n\n\t\tconst pickerScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0.3, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ - 0.3, 0, 0 ], [ 0, 0, Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0.3, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, - 0.3, 0 ], [ 0, 0, Math.PI ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, 0.3 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.6, 4 ), matInvisible ), [ 0, 0, - 0.3 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0.15, 0 ]],\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]],\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.01 ), matInvisible ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 0, 0 ]],\n\t\t\t]\n\t\t};\n\n\t\tconst helperScale = {\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\t// Creates an Object3D with gizmos described in custom hierarchy definition.\n\n\t\tfunction setupGizmo( gizmoMap ) {\n\n\t\t\tconst gizmo = new Object3D();\n\n\t\t\tfor ( const name in gizmoMap ) {\n\n\t\t\t\tfor ( let i = gizmoMap[ name ].length; i --; ) {\n\n\t\t\t\t\tconst object = gizmoMap[ name ][ i ][ 0 ].clone();\n\t\t\t\t\tconst position = gizmoMap[ name ][ i ][ 1 ];\n\t\t\t\t\tconst rotation = gizmoMap[ name ][ i ][ 2 ];\n\t\t\t\t\tconst scale = gizmoMap[ name ][ i ][ 3 ];\n\t\t\t\t\tconst tag = gizmoMap[ name ][ i ][ 4 ];\n\n\t\t\t\t\t// name and tag properties are essential for picking and updating logic.\n\t\t\t\t\tobject.name = name;\n\t\t\t\t\tobject.tag = tag;\n\n\t\t\t\t\tif ( position ) {\n\n\t\t\t\t\t\tobject.position.set( position[ 0 ], position[ 1 ], position[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( rotation ) {\n\n\t\t\t\t\t\tobject.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( scale ) {\n\n\t\t\t\t\t\tobject.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.updateMatrix();\n\n\t\t\t\t\tconst tempGeometry = object.geometry.clone();\n\t\t\t\t\ttempGeometry.applyMatrix4( object.matrix );\n\t\t\t\t\tobject.geometry = tempGeometry;\n\t\t\t\t\tobject.renderOrder = Infinity;\n\n\t\t\t\t\tobject.position.set( 0, 0, 0 );\n\t\t\t\t\tobject.rotation.set( 0, 0, 0 );\n\t\t\t\t\tobject.scale.set( 1, 1, 1 );\n\n\t\t\t\t\tgizmo.add( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn gizmo;\n\n\t\t}\n\n\t\t// Gizmo creation\n\n\t\tthis.gizmo = {};\n\t\tthis.picker = {};\n\t\tthis.helper = {};\n\n\t\tthis.add( this.gizmo[ 'translate' ] = setupGizmo( gizmoTranslate ) );\n\t\tthis.add( this.gizmo[ 'rotate' ] = setupGizmo( gizmoRotate ) );\n\t\tthis.add( this.gizmo[ 'scale' ] = setupGizmo( gizmoScale ) );\n\t\tthis.add( this.picker[ 'translate' ] = setupGizmo( pickerTranslate ) );\n\t\tthis.add( this.picker[ 'rotate' ] = setupGizmo( pickerRotate ) );\n\t\tthis.add( this.picker[ 'scale' ] = setupGizmo( pickerScale ) );\n\t\tthis.add( this.helper[ 'translate' ] = setupGizmo( helperTranslate ) );\n\t\tthis.add( this.helper[ 'rotate' ] = setupGizmo( helperRotate ) );\n\t\tthis.add( this.helper[ 'scale' ] = setupGizmo( helperScale ) );\n\n\t\t// Pickers should be hidden always\n\n\t\tthis.picker[ 'translate' ].visible = false;\n\t\tthis.picker[ 'rotate' ].visible = false;\n\t\tthis.picker[ 'scale' ].visible = false;\n\n\t}\n\n\t// updateMatrixWorld will update transformations and appearance of individual handles\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst space = ( this.mode === 'scale' ) ? 'local' : this.space; // scale always oriented to local rotation\n\n\t\tconst quaternion = ( space === 'local' ) ? this.worldQuaternion : _identityQuaternion;\n\n\t\t// Show only gizmos for current transform mode\n\n\t\tthis.gizmo[ 'translate' ].visible = this.mode === 'translate';\n\t\tthis.gizmo[ 'rotate' ].visible = this.mode === 'rotate';\n\t\tthis.gizmo[ 'scale' ].visible = this.mode === 'scale';\n\n\t\tthis.helper[ 'translate' ].visible = this.mode === 'translate';\n\t\tthis.helper[ 'rotate' ].visible = this.mode === 'rotate';\n\t\tthis.helper[ 'scale' ].visible = this.mode === 'scale';\n\n\n\t\tlet handles = [];\n\t\thandles = handles.concat( this.picker[ this.mode ].children );\n\t\thandles = handles.concat( this.gizmo[ this.mode ].children );\n\t\thandles = handles.concat( this.helper[ this.mode ].children );\n\n\t\tfor ( let i = 0; i < handles.length; i ++ ) {\n\n\t\t\tconst handle = handles[ i ];\n\n\t\t\t// hide aligned to camera\n\n\t\t\thandle.visible = true;\n\t\t\thandle.rotation.set( 0, 0, 0 );\n\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\tlet factor;\n\n\t\t\tif ( this.camera.isOrthographicCamera ) {\n\n\t\t\t\tfactor = ( this.camera.top - this.camera.bottom ) / this.camera.zoom;\n\n\t\t\t} else {\n\n\t\t\t\tfactor = this.worldPosition.distanceTo( this.cameraPosition ) * Math.min( 1.9 * Math.tan( Math.PI * this.camera.fov / 360 ) / this.camera.zoom, 7 );\n\n\t\t\t}\n\n\t\t\thandle.scale.set( 1, 1, 1 ).multiplyScalar( factor * this.size / 4 );\n\n\t\t\t// TODO: simplify helpers and consider decoupling from gizmo\n\n\t\t\tif ( handle.tag === 'helper' ) {\n\n\t\t\t\thandle.visible = false;\n\n\t\t\t\tif ( handle.name === 'AXIS' ) {\n\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\thandle.visible = !! this.axis;\n\n\t\t\t\t\tif ( this.axis === 'X' ) {\n\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, 0, 0 ) );\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( _tempQuaternion );\n\n\t\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.axis === 'Y' ) {\n\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, 0, Math.PI / 2 ) );\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( _tempQuaternion );\n\n\t\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.axis === 'Z' ) {\n\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( _tempQuaternion );\n\n\t\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.axis === 'XYZE' ) {\n\n\t\t\t\t\t\t_tempQuaternion.setFromEuler( _tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t_alignVector.copy( this.rotationAxis );\n\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( _lookAtMatrix.lookAt( _zeroVector, _alignVector, _unitY ) );\n\t\t\t\t\t\thandle.quaternion.multiply( _tempQuaternion );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.axis === 'E' ) {\n\n\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else if ( handle.name === 'START' ) {\n\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t} else if ( handle.name === 'END' ) {\n\n\t\t\t\t\thandle.position.copy( this.worldPosition );\n\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t} else if ( handle.name === 'DELTA' ) {\n\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\thandle.quaternion.copy( this.worldQuaternionStart );\n\t\t\t\t\t_tempVector.set( 1e-10, 1e-10, 1e-10 ).add( this.worldPositionStart ).sub( this.worldPosition ).multiplyScalar( - 1 );\n\t\t\t\t\t_tempVector.applyQuaternion( this.worldQuaternionStart.clone().invert() );\n\t\t\t\t\thandle.scale.copy( _tempVector );\n\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t} else {\n\n\t\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\t\tif ( this.dragging ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.axis ) {\n\n\t\t\t\t\t\thandle.visible = this.axis.search( handle.name ) !== - 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// If updating helper, skip rest of the loop\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// Align handles to current local or world rotation\n\n\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\tif ( this.mode === 'translate' || this.mode === 'scale' ) {\n\n\t\t\t\t// Hide translate and scale axis facing the camera\n\n\t\t\t\tconst AXIS_HIDE_TRESHOLD = 0.99;\n\t\t\t\tconst PLANE_HIDE_TRESHOLD = 0.2;\n\n\t\t\t\tif ( handle.name === 'X' ) {\n\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'Y' ) {\n\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'Z' ) {\n\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'XY' ) {\n\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'YZ' ) {\n\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'XZ' ) {\n\n\t\t\t\t\tif ( Math.abs( _alignVector.copy( _unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( this.mode === 'rotate' ) {\n\n\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\t_tempQuaternion2.copy( quaternion );\n\t\t\t\t_alignVector.copy( this.eye ).applyQuaternion( _tempQuaternion.copy( quaternion ).invert() );\n\n\t\t\t\tif ( handle.name.search( 'E' ) !== - 1 ) {\n\n\t\t\t\t\thandle.quaternion.setFromRotationMatrix( _lookAtMatrix.lookAt( this.eye, _zeroVector, _unitY ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'X' ) {\n\n\t\t\t\t\t_tempQuaternion.setFromAxisAngle( _unitX, Math.atan2( - _alignVector.y, _alignVector.z ) );\n\t\t\t\t\t_tempQuaternion.multiplyQuaternions( _tempQuaternion2, _tempQuaternion );\n\t\t\t\t\thandle.quaternion.copy( _tempQuaternion );\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'Y' ) {\n\n\t\t\t\t\t_tempQuaternion.setFromAxisAngle( _unitY, Math.atan2( _alignVector.x, _alignVector.z ) );\n\t\t\t\t\t_tempQuaternion.multiplyQuaternions( _tempQuaternion2, _tempQuaternion );\n\t\t\t\t\thandle.quaternion.copy( _tempQuaternion );\n\n\t\t\t\t}\n\n\t\t\t\tif ( handle.name === 'Z' ) {\n\n\t\t\t\t\t_tempQuaternion.setFromAxisAngle( _unitZ, Math.atan2( _alignVector.y, _alignVector.x ) );\n\t\t\t\t\t_tempQuaternion.multiplyQuaternions( _tempQuaternion2, _tempQuaternion );\n\t\t\t\t\thandle.quaternion.copy( _tempQuaternion );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Hide disabled axes\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'X' ) === - 1 || this.showX );\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Y' ) === - 1 || this.showY );\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Z' ) === - 1 || this.showZ );\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'E' ) === - 1 || ( this.showX && this.showY && this.showZ ) );\n\n\t\t\t// highlight selected axis\n\n\t\t\thandle.material._color = handle.material._color || handle.material.color.clone();\n\t\t\thandle.material._opacity = handle.material._opacity || handle.material.opacity;\n\n\t\t\thandle.material.color.copy( handle.material._color );\n\t\t\thandle.material.opacity = handle.material._opacity;\n\n\t\t\tif ( this.enabled && this.axis ) {\n\n\t\t\t\tif ( handle.name === this.axis ) {\n\n\t\t\t\t\thandle.material.color.setHex( 0xffff00 );\n\t\t\t\t\thandle.material.opacity = 1.0;\n\n\t\t\t\t} else if ( this.axis.split( '' ).some( function ( a ) {\n\n\t\t\t\t\treturn handle.name === a;\n\n\t\t\t\t} ) ) {\n\n\t\t\t\t\thandle.material.color.setHex( 0xffff00 );\n\t\t\t\t\thandle.material.opacity = 1.0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nTransformControlsGizmo.prototype.isTransformControlsGizmo = true;\n\n//\n\nclass TransformControlsPlane extends Mesh {\n\n\tconstructor() {\n\n\t\tsuper(\n\t\t\tnew PlaneGeometry( 100000, 100000, 2, 2 ),\n\t\t\tnew MeshBasicMaterial( { visible: false, wireframe: true, side: DoubleSide, transparent: true, opacity: 0.1, toneMapped: false } )\n\t\t);\n\n\t\tthis.type = 'TransformControlsPlane';\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet space = this.space;\n\n\t\tthis.position.copy( this.worldPosition );\n\n\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t_v1.copy( _unitX ).applyQuaternion( space === 'local' ? this.worldQuaternion : _identityQuaternion );\n\t\t_v2.copy( _unitY ).applyQuaternion( space === 'local' ? this.worldQuaternion : _identityQuaternion );\n\t\t_v3.copy( _unitZ ).applyQuaternion( space === 'local' ? this.worldQuaternion : _identityQuaternion );\n\n\t\t// Align the plane for current transform mode, axis and space.\n\n\t\t_alignVector.copy( _v2 );\n\n\t\tswitch ( this.mode ) {\n\n\t\t\tcase 'translate':\n\t\t\tcase 'scale':\n\t\t\t\tswitch ( this.axis ) {\n\n\t\t\t\t\tcase 'X':\n\t\t\t\t\t\t_alignVector.copy( this.eye ).cross( _v1 );\n\t\t\t\t\t\t_dirVector.copy( _v1 ).cross( _alignVector );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\t_alignVector.copy( this.eye ).cross( _v2 );\n\t\t\t\t\t\t_dirVector.copy( _v2 ).cross( _alignVector );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Z':\n\t\t\t\t\t\t_alignVector.copy( this.eye ).cross( _v3 );\n\t\t\t\t\t\t_dirVector.copy( _v3 ).cross( _alignVector );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'XY':\n\t\t\t\t\t\t_dirVector.copy( _v3 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'YZ':\n\t\t\t\t\t\t_dirVector.copy( _v1 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'XZ':\n\t\t\t\t\t\t_alignVector.copy( _v3 );\n\t\t\t\t\t\t_dirVector.copy( _v2 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'XYZ':\n\t\t\t\t\tcase 'E':\n\t\t\t\t\t\t_dirVector.set( 0, 0, 0 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 'rotate':\n\t\t\tdefault:\n\t\t\t\t// special case for rotate\n\t\t\t\t_dirVector.set( 0, 0, 0 );\n\n\t\t}\n\n\t\tif ( _dirVector.length() === 0 ) {\n\n\t\t\t// If in rotate mode, make the plane parallel to camera\n\t\t\tthis.quaternion.copy( this.cameraQuaternion );\n\n\t\t} else {\n\n\t\t\t_tempMatrix.lookAt( _tempVector.set( 0, 0, 0 ), _dirVector, _alignVector );\n\n\t\t\tthis.quaternion.setFromRotationMatrix( _tempMatrix );\n\n\t\t}\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nTransformControlsPlane.prototype.isTransformControlsPlane = true;\n\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };\n","/**\n * parameters = {\n *  color: <hex>,\n *  linewidth: <float>,\n *  dashed: <boolean>,\n *  dashScale: <float>,\n *  dashSize: <float>,\n *  dashOffset: <float>,\n *  gapSize: <float>,\n *  resolution: <Vector2>, // to be set by renderer\n * }\n */\n\nimport {\n\tShaderLib,\n\tShaderMaterial,\n\tUniformsLib,\n\tUniformsUtils,\n\tVector2\n} from 'three';\n\n\nUniformsLib.line = {\n\n\tworldUnits: { value: 1 },\n\tlinewidth: { value: 1 },\n\tresolution: { value: new Vector2( 1, 1 ) },\n\tdashOffset: { value: 0 },\n\tdashScale: { value: 1 },\n\tdashSize: { value: 1 },\n\tgapSize: { value: 1 } // todo FIX - maybe change to totalSize\n\n};\n\nShaderLib[ 'line' ] = {\n\n\tuniforms: UniformsUtils.merge( [\n\t\tUniformsLib.common,\n\t\tUniformsLib.fog,\n\t\tUniformsLib.line\n\t] ),\n\n\tvertexShader:\n\t/* glsl */`\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\tworldStart = start.xyz;\n\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t#else\n\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t}\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t#endif\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segements overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\tdir.x /= aspect;\n\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\toffset += - dir;\n\n\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\toffset += dir;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth;\n\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t// select end\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t// back to clip space\n\t\t\t\toffset *= clip.w;\n\n\t\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t`,\n\n\tfragmentShader:\n\t/* glsl */`\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t`\n};\n\nclass LineMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( {\n\n\t\t\ttype: 'LineMaterial',\n\n\t\t\tuniforms: UniformsUtils.clone( ShaderLib[ 'line' ].uniforms ),\n\n\t\t\tvertexShader: ShaderLib[ 'line' ].vertexShader,\n\t\t\tfragmentShader: ShaderLib[ 'line' ].fragmentShader,\n\n\t\t\tclipping: true // required for clipping support\n\n\t\t} );\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tcolor: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.diffuse.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.diffuse.value = value;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tworldUnits: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn 'WORLD_UNITS' in this.defines;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tif ( value === true ) {\n\n\t\t\t\t\t\tthis.defines.WORLD_UNITS = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.WORLD_UNITS;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tlinewidth: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.linewidth.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.linewidth.value = value;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tdashed: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn Boolean( 'USE_DASH' in this.defines );\n\n\t\t\t\t},\n\n\t\t\t\tset( value ) {\n\n\t\t\t\t\tif ( Boolean( value ) !== Boolean( 'USE_DASH' in this.defines ) ) {\n\n\t\t\t\t\t\tthis.needsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( value === true ) {\n\n\t\t\t\t\t\tthis.defines.USE_DASH = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_DASH;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tdashScale: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.dashScale.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.dashScale.value = value;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tdashSize: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.dashSize.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.dashSize.value = value;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tdashOffset: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.dashOffset.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.dashOffset.value = value;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tgapSize: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.gapSize.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.gapSize.value = value;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\topacity: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.opacity.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.opacity.value = value;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tresolution: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn this.uniforms.resolution.value;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tthis.uniforms.resolution.value.copy( value );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\talphaToCoverage: {\n\n\t\t\t\tenumerable: true,\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn Boolean( 'USE_ALPHA_TO_COVERAGE' in this.defines );\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tif ( Boolean( value ) !== Boolean( 'USE_ALPHA_TO_COVERAGE' in this.defines ) ) {\n\n\t\t\t\t\t\tthis.needsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( value === true ) {\n\n\t\t\t\t\t\tthis.defines.USE_ALPHA_TO_COVERAGE = '';\n\t\t\t\t\t\tthis.extensions.derivatives = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_ALPHA_TO_COVERAGE;\n\t\t\t\t\t\tthis.extensions.derivatives = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nLineMaterial.prototype.isLineMaterial = true;\n\nexport { LineMaterial };\n","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\n\nvar HorizontalBlurShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'h': { value: 1.0 / 512.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}`\n\n};\n\nexport { HorizontalBlurShader };\n","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\n\nconst VerticalBlurShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'v': { value: 1.0 / 512.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}`\n\n};\n\nexport { VerticalBlurShader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tTrianglesDrawMode,\n\tVector3\n} from 'three';\n\n\nfunction computeTangents( geometry ) {\n\n\tgeometry.computeTangents();\n\tconsole.warn( 'THREE.BufferGeometryUtils: .computeTangents() has been removed. Use BufferGeometry.computeTangents() instead.' );\n\n}\n\n/**\n\t * @param  {Array<BufferGeometry>} geometries\n\t * @param  {Boolean} useGroups\n\t * @return {BufferGeometry}\n\t */\nfunction mergeBufferGeometries( geometries, useGroups = false ) {\n\n\tconst isIndexed = geometries[ 0 ].index !== null;\n\n\tconst attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\n\tconst morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\n\n\tconst attributes = {};\n\tconst morphAttributes = {};\n\n\tconst morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\n\n\tconst mergedGeometry = new BufferGeometry();\n\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\tconst geometry = geometries[ i ];\n\t\tlet attributesCount = 0;\n\n\t\t// ensure that all geometries are indexed, or none\n\n\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather attributes, exit early if they're different\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tif ( ! attributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\n\n\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\n\n\t\t\tattributesCount ++;\n\n\t\t}\n\n\t\t// ensure geometries have the same number of attributes\n\n\t\tif ( attributesCount !== attributesUsed.size ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather morph attributes, exit early if they're different\n\n\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfor ( const name in geometry.morphAttributes ) {\n\n\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\n\n\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\n\n\t\t}\n\n\t\t// gather .userData\n\n\t\tmergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || [];\n\t\tmergedGeometry.userData.mergedUserData.push( geometry.userData );\n\n\t\tif ( useGroups ) {\n\n\t\t\tlet count;\n\n\t\t\tif ( isIndexed ) {\n\n\t\t\t\tcount = geometry.index.count;\n\n\t\t\t} else if ( geometry.attributes.position !== undefined ) {\n\n\t\t\t\tcount = geometry.attributes.position.count;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.addGroup( offset, count, i );\n\n\t\t\toffset += count;\n\n\t\t}\n\n\t}\n\n\t// merge indices\n\n\tif ( isIndexed ) {\n\n\t\tlet indexOffset = 0;\n\t\tconst mergedIndex = [];\n\n\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\tconst index = geometries[ i ].index;\n\n\t\t\tfor ( let j = 0; j < index.count; ++ j ) {\n\n\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\n\n\t\t\t}\n\n\t\t\tindexOffset += geometries[ i ].attributes.position.count;\n\n\t\t}\n\n\t\tmergedGeometry.setIndex( mergedIndex );\n\n\t}\n\n\t// merge attributes\n\n\tfor ( const name in attributes ) {\n\n\t\tconst mergedAttribute = mergeBufferAttributes( attributes[ name ] );\n\n\t\tif ( ! mergedAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tmergedGeometry.setAttribute( name, mergedAttribute );\n\n\t}\n\n\t// merge morph attributes\n\n\tfor ( const name in morphAttributes ) {\n\n\t\tconst numMorphTargets = morphAttributes[ name ][ 0 ].length;\n\n\t\tif ( numMorphTargets === 0 ) break;\n\n\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\n\t\tmergedGeometry.morphAttributes[ name ] = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; ++ i ) {\n\n\t\t\tconst morphAttributesToMerge = [];\n\n\t\t\tfor ( let j = 0; j < morphAttributes[ name ].length; ++ j ) {\n\n\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\n\n\t\t\t}\n\n\t\t\tconst mergedMorphAttribute = mergeBufferAttributes( morphAttributesToMerge );\n\n\t\t\tif ( ! mergedMorphAttribute ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\n\n\t\t}\n\n\t}\n\n\treturn mergedGeometry;\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {BufferAttribute}\n */\nfunction mergeBufferAttributes( attributes ) {\n\n\tlet TypedArray;\n\tlet itemSize;\n\tlet normalized;\n\tlet arrayLength = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\n\t\tif ( itemSize !== attribute.itemSize ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( normalized === undefined ) normalized = attribute.normalized;\n\t\tif ( normalized !== attribute.normalized ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.array.length;\n\n\t}\n\n\tconst array = new TypedArray( arrayLength );\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tarray.set( attributes[ i ].array, offset );\n\n\t\toffset += attributes[ i ].array.length;\n\n\t}\n\n\treturn new BufferAttribute( array, itemSize, normalized );\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {Array<InterleavedBufferAttribute>}\n */\nfunction interleaveAttributes( attributes ) {\n\n\t// Interleaves the provided attributes into an InterleavedBuffer and returns\n\t// a set of InterleavedBufferAttributes for each attribute\n\tlet TypedArray;\n\tlet arrayLength = 0;\n\tlet stride = 0;\n\n\t// calculate the the length and type of the interleavedBuffer\n\tfor ( let i = 0, l = attributes.length; i < l; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.array.length;\n\t\tstride += attribute.itemSize;\n\n\t}\n\n\t// Create the set of buffer attributes\n\tconst interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\n\tlet offset = 0;\n\tconst res = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\tfor ( let j = 0, l = attributes.length; j < l; j ++ ) {\n\n\t\tconst attribute = attributes[ j ];\n\t\tconst itemSize = attribute.itemSize;\n\t\tconst count = attribute.count;\n\t\tconst iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\n\t\tres.push( iba );\n\n\t\toffset += itemSize;\n\n\t\t// Move the data for each attribute into the new interleavedBuffer\n\t\t// at the appropriate offset\n\t\tfor ( let c = 0; c < count; c ++ ) {\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn res;\n\n}\n\n/**\n * @param {Array<BufferGeometry>} geometry\n * @return {number}\n */\nfunction estimateBytesUsed( geometry ) {\n\n\t// Return the estimated memory used by this geometry in bytes\n\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n\t// for InterleavedBufferAttributes.\n\tlet mem = 0;\n\tfor ( const name in geometry.attributes ) {\n\n\t\tconst attr = geometry.getAttribute( name );\n\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\n\n\t}\n\n\tconst indices = geometry.getIndex();\n\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\n\treturn mem;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} tolerance\n * @return {BufferGeometry>}\n */\nfunction mergeVertices( geometry, tolerance = 1e-4 ) {\n\n\ttolerance = Math.max( tolerance, Number.EPSILON );\n\n\t// Generate an index buffer if the geometry doesn't have one, or optimize it\n\t// if it's already available.\n\tconst hashToIndex = {};\n\tconst indices = geometry.getIndex();\n\tconst positions = geometry.getAttribute( 'position' );\n\tconst vertexCount = indices ? indices.count : positions.count;\n\n\t// next value for triangle indices\n\tlet nextIndex = 0;\n\n\t// attributes and new attribute arrays\n\tconst attributeNames = Object.keys( geometry.attributes );\n\tconst attrArrays = {};\n\tconst morphAttrsArrays = {};\n\tconst newIndices = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\n\t// initialize the arrays\n\tfor ( let i = 0, l = attributeNames.length; i < l; i ++ ) {\n\n\t\tconst name = attributeNames[ i ];\n\n\t\tattrArrays[ name ] = [];\n\n\t\tconst morphAttr = geometry.morphAttributes[ name ];\n\t\tif ( morphAttr ) {\n\n\t\t\tmorphAttrsArrays[ name ] = new Array( morphAttr.length ).fill().map( () => [] );\n\n\t\t}\n\n\t}\n\n\t// convert the error tolerance to an amount of decimal places to truncate to\n\tconst decimalShift = Math.log10( 1 / tolerance );\n\tconst shiftMultiplier = Math.pow( 10, decimalShift );\n\tfor ( let i = 0; i < vertexCount; i ++ ) {\n\n\t\tconst index = indices ? indices.getX( i ) : i;\n\n\t\t// Generate a hash for the vertex attributes at the current index 'i'\n\t\tlet hash = '';\n\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\tconst name = attributeNames[ j ];\n\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t// double tilde truncates the decimal value\n\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * shiftMultiplier ) },`;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add another reference to the vertex if it's already\n\t\t// used by another index\n\t\tif ( hash in hashToIndex ) {\n\n\t\t\tnewIndices.push( hashToIndex[ hash ] );\n\n\t\t} else {\n\n\t\t\t// copy data to the new index in the attribute arrays\n\t\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\t\tconst name = attributeNames[ j ];\n\t\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\t\tconst morphAttr = geometry.morphAttributes[ name ];\n\t\t\t\tconst itemSize = attribute.itemSize;\n\t\t\t\tconst newarray = attrArrays[ name ];\n\t\t\t\tconst newMorphArrays = morphAttrsArrays[ name ];\n\n\t\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t\tconst getterFunc = getters[ k ];\n\t\t\t\t\tnewarray.push( attribute[ getterFunc ]( index ) );\n\n\t\t\t\t\tif ( morphAttr ) {\n\n\t\t\t\t\t\tfor ( let m = 0, ml = morphAttr.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\t\tnewMorphArrays[ m ].push( morphAttr[ m ][ getterFunc ]( index ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\thashToIndex[ hash ] = nextIndex;\n\t\t\tnewIndices.push( nextIndex );\n\t\t\tnextIndex ++;\n\n\t\t}\n\n\t}\n\n\t// Generate typed arrays from new attribute arrays and update\n\t// the attributeBuffers\n\tconst result = geometry.clone();\n\tfor ( let i = 0, l = attributeNames.length; i < l; i ++ ) {\n\n\t\tconst name = attributeNames[ i ];\n\t\tconst oldAttribute = geometry.getAttribute( name );\n\n\t\tconst buffer = new oldAttribute.array.constructor( attrArrays[ name ] );\n\t\tconst attribute = new BufferAttribute( buffer, oldAttribute.itemSize, oldAttribute.normalized );\n\n\t\tresult.setAttribute( name, attribute );\n\n\t\t// Update the attribute arrays\n\t\tif ( name in morphAttrsArrays ) {\n\n\t\t\tfor ( let j = 0; j < morphAttrsArrays[ name ].length; j ++ ) {\n\n\t\t\t\tconst oldMorphAttribute = geometry.morphAttributes[ name ][ j ];\n\n\t\t\t\tconst buffer = new oldMorphAttribute.array.constructor( morphAttrsArrays[ name ][ j ] );\n\t\t\t\tconst morphAttribute = new BufferAttribute( buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized );\n\t\t\t\tresult.morphAttributes[ name ][ j ] = morphAttribute;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tresult.setIndex( newIndices );\n\n\treturn result;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} drawMode\n * @return {BufferGeometry>}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tif ( drawMode === TrianglesDrawMode ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\n\t\treturn geometry;\n\n\t}\n\n\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\n\n\t\tlet index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tconst indices = [];\n\n\t\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst numberOfTriangles = index.count - 2;\n\t\tconst newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tconst newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\t\tnewGeometry.clearGroups();\n\n\t\treturn newGeometry;\n\n\t} else {\n\n\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\n\t\treturn geometry;\n\n\t}\n\n}\n\n/**\n * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n * Helpful for Raytracing or Decals.\n * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n * @return {Object} An Object with original position/normal attributes and morphed ones.\n */\nfunction computeMorphedAttributes( object ) {\n\n\tif ( object.geometry.isBufferGeometry !== true ) {\n\n\t\tconsole.error( 'THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry.' );\n\t\treturn null;\n\n\t}\n\n\tconst _vA = new Vector3();\n\tconst _vB = new Vector3();\n\tconst _vC = new Vector3();\n\n\tconst _tempA = new Vector3();\n\tconst _tempB = new Vector3();\n\tconst _tempC = new Vector3();\n\n\tconst _morphA = new Vector3();\n\tconst _morphB = new Vector3();\n\tconst _morphC = new Vector3();\n\n\tfunction _calculateMorphedAttributeData(\n\t\tobject,\n\t\tmaterial,\n\t\tattribute,\n\t\tmorphAttribute,\n\t\tmorphTargetsRelative,\n\t\ta,\n\t\tb,\n\t\tc,\n\t\tmodifiedAttributeArray\n\t) {\n\n\t\t_vA.fromBufferAttribute( attribute, a );\n\t\t_vB.fromBufferAttribute( attribute, b );\n\t\t_vC.fromBufferAttribute( attribute, c );\n\n\t\tconst morphInfluences = object.morphTargetInfluences;\n\n\t\tif ( material.morphTargets && morphAttribute && morphInfluences ) {\n\n\t\t\t_morphA.set( 0, 0, 0 );\n\t\t\t_morphB.set( 0, 0, 0 );\n\t\t\t_morphC.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst influence = morphInfluences[ i ];\n\t\t\t\tconst morph = morphAttribute[ i ];\n\n\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t_tempA.fromBufferAttribute( morph, a );\n\t\t\t\t_tempB.fromBufferAttribute( morph, b );\n\t\t\t\t_tempC.fromBufferAttribute( morph, c );\n\n\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_vA.add( _morphA );\n\t\t\t_vB.add( _morphB );\n\t\t\t_vC.add( _morphC );\n\n\t\t}\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tobject.boneTransform( a, _vA );\n\t\t\tobject.boneTransform( b, _vB );\n\t\t\tobject.boneTransform( c, _vC );\n\n\t\t}\n\n\t\tmodifiedAttributeArray[ a * 3 + 0 ] = _vA.x;\n\t\tmodifiedAttributeArray[ a * 3 + 1 ] = _vA.y;\n\t\tmodifiedAttributeArray[ a * 3 + 2 ] = _vA.z;\n\t\tmodifiedAttributeArray[ b * 3 + 0 ] = _vB.x;\n\t\tmodifiedAttributeArray[ b * 3 + 1 ] = _vB.y;\n\t\tmodifiedAttributeArray[ b * 3 + 2 ] = _vB.z;\n\t\tmodifiedAttributeArray[ c * 3 + 0 ] = _vC.x;\n\t\tmodifiedAttributeArray[ c * 3 + 1 ] = _vC.y;\n\t\tmodifiedAttributeArray[ c * 3 + 2 ] = _vC.z;\n\n\t}\n\n\tconst geometry = object.geometry;\n\tconst material = object.material;\n\n\tlet a, b, c;\n\tconst index = geometry.index;\n\tconst positionAttribute = geometry.attributes.position;\n\tconst morphPosition = geometry.morphAttributes.position;\n\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\tconst normalAttribute = geometry.attributes.normal;\n\tconst morphNormal = geometry.morphAttributes.position;\n\n\tconst groups = geometry.groups;\n\tconst drawRange = geometry.drawRange;\n\tlet i, j, il, jl;\n\tlet group, groupMaterial;\n\tlet start, end;\n\n\tconst modifiedPosition = new Float32Array( positionAttribute.count * positionAttribute.itemSize );\n\tconst modifiedNormal = new Float32Array( normalAttribute.count * normalAttribute.itemSize );\n\n\tif ( index !== null ) {\n\n\t\t// indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = index.getX( i );\n\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tmaterial,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tmaterial,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t} else if ( positionAttribute !== undefined ) {\n\n\t\t// non-indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = j;\n\t\t\t\t\tb = j + 1;\n\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = i;\n\t\t\t\tb = i + 1;\n\t\t\t\tc = i + 2;\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tmaterial,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tmaterial,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tconst morphedPositionAttribute = new Float32BufferAttribute( modifiedPosition, 3 );\n\tconst morphedNormalAttribute = new Float32BufferAttribute( modifiedNormal, 3 );\n\n\treturn {\n\n\t\tpositionAttribute: positionAttribute,\n\t\tnormalAttribute: normalAttribute,\n\t\tmorphedPositionAttribute: morphedPositionAttribute,\n\t\tmorphedNormalAttribute: morphedNormalAttribute\n\n\t};\n\n}\n\n\n\nexport {\n\tcomputeTangents,\n\tmergeBufferGeometries,\n\tmergeBufferAttributes,\n\tinterleaveAttributes,\n\testimateBytesUsed,\n\tmergeVertices,\n\ttoTrianglesDrawMode,\n\tcomputeMorphedAttributes,\n};\n"],"names":["_box","Box3","_vector","Vector3","LineSegmentsGeometry","type","setIndex","setAttribute","Float32BufferAttribute","matrix","start","this","attributes","instanceStart","end","instanceEnd","undefined","applyMatrix4","needsUpdate","boundingBox","computeBoundingBox","boundingSphere","computeBoundingSphere","array","lineSegments","Float32Array","Array","isArray","instanceBuffer","InstancedInterleavedBuffer","InterleavedBufferAttribute","colors","instanceColorBuffer","geometry","setPositions","position","mesh","fromWireframeGeometry","WireframeGeometry","isGeometry","isBufferGeometry","console","error","setFromBufferAttribute","union","Sphere","center","getCenter","maxRadiusSq","i","il","count","fromBufferAttribute","Math","max","distanceToSquared","radius","sqrt","isNaN","warn","InstancedBufferGeometry","prototype","isLineSegmentsGeometry","_start","_end","_start4","Vector4","_end4","_ssOrigin","_ssOrigin3","_mvMatrix","Matrix4","_line","Line3","_closestPoint","_sphere","_clipToWorldVector","getWorldSpaceHalfWidth","camera","distance","lineWidth","resolution","set","projectionMatrix","multiplyScalar","w","x","width","y","height","projectionMatrixInverse","abs","LineSegments2","material","LineMaterial","color","random","lineDistances","j","l","distanceTo","instanceDistanceBuffer","raycaster","intersects","threshold","params","Line2","ray","matrixWorld","linewidth","near","copy","sphereMargin","distanceToPoint","origin","intersectsSphere","boxMargin","z","min","intersectsBox","at","matrixWorldInverse","multiplyMatrices","deltaDist","t","lerp","param","closestPointToPointParameter","zPos","MathUtils","isInClipSpace","isInside","pointOnLine","point","distanceSqToSegment","push","object","face","faceIndex","uv","uv2","Mesh","isLineSegments2","ClippingEdges","clippingPlane","Plane","isVisible","visible","Object","values","edges","forEach","context","getScene","add","removeFromParent","updateEdges","edge","generatorGeometry","boundsTree","disposeBoundsTree","dispose","basicEdges","LineSegments","ifc","edgesParent","styles","style","ids","length","meshes","mat","categories","createDefaultIfcStyles","updateIfcStyles","forceStyleUpdate","updateSubsetsTranformation","keys","styleName","drawEdges","e","styleNames","name","models","items","ifcModels","newSubset","subset","model","find","modelID","rotation","scale","stylesInitialized","updateStylesIfcGeometry","newStyle","IFCWALLSTANDARDCASE","IFCWALL","IFCSLAB","IFCSTAIRFLIGHT","IFCCOLUMN","IFCBEAM","IFCROOF","IFCBUILDINGELEMENTPROXY","IFCPROXY","IFCWINDOW","IFCPLATE","IFCMEMBER","IFCDOOR","IFCFURNISHINGELEMENT","IFCFOOTING","thickLineGeometry","thickEdges","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","renderOrder","newGeneratorGeometry","newThickEdges","index","posAttr","fill","filter","Error","inverseMatrix","invert","localPlane","shapecast","intersectsBounds","box","intersectsTriangle","tri","tempLine","a","b","intersectLine","tempVector","result","setXYZ","c","setDrawRange","normal","Number","fromLineSegments","renderer","postProduction","excludedItems","BufferGeometry","linePosAttr","BufferAttribute","setUsage","DynamicDrawUsage","defaultMaterial","subsets","clippingPlanes","getClippingPlanes","map","computeBoundsTree","getItemIDs","manager","loader","ifcManager","createSubset","customID","invisibleMaterial","removePrevious","scene","applyBVH","getSubset","getAllItemsOfType","found","visibleItems","getVisibileItems","id","has","Set","expressID","getX","MeshBasicMaterial","_assertThisInitialized","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","args","arguments","apply","err","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","F","s","n","_e","f","TypeError","normalCompletion","didErr","call","step","next","_e2","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","Super","getPrototypeOf","NewTarget","constructor","possibleConstructorReturn","_superPropBase","property","hasOwnProperty","_get","get","bind","target","receiver","base","desc","getOwnPropertyDescriptor","_getPrototypeOf","setPrototypeOf","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","create","writable","configurable","defineProperty","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","enumerable","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","_possibleConstructorReturn","_regeneratorRuntime","exports","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","state","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_typeof","_raycaster","Raycaster","_tempVector","_tempVector2","_tempQuaternion","Quaternion","_unit","X","Y","Z","_changeEvent","_mouseDownEvent","_mouseUpEvent","mode","_objectChangeEvent","TransformControls","domElement","document","touchAction","_gizmo","TransformControlsGizmo","_plane","TransformControlsPlane","scope","propName","defaultValue","propValue","dispatchEvent","worldPosition","worldPositionStart","worldQuaternion","worldQuaternionStart","cameraPosition","cameraQuaternion","pointStart","pointEnd","rotationAxis","eye","_offset","_startNorm","_endNorm","_cameraScale","_parentPosition","_parentQuaternion","_parentQuaternionInv","_parentScale","_worldScaleStart","_worldQuaternionInv","_worldScale","_positionStart","_quaternionStart","_scaleStart","_getPointer","getPointer","_onPointerDown","onPointerDown","_onPointerHover","onPointerHover","_onPointerMove","onPointerMove","_onPointerUp","onPointerUp","addEventListener","updateMatrixWorld","parent","decompose","sub","normalize","pointer","dragging","setFromCamera","intersect","intersectObjectWithRay","picker","axis","button","planeIntersect","quaternion","space","applyQuaternion","indexOf","divide","translationSnap","search","round","setFromMatrixPosition","d","dot","multiply","scaleSnap","ROTATION_SPEED","rotationAngle","angleTo","cross","rotationSnap","setFromAxisAngle","removeEventListener","traverse","child","size","Object3D","event","ownerDocument","pointerLockElement","rect","getBoundingClientRect","clientX","left","clientY","top","enabled","pointerType","pointerHover","setPointerCapture","pointerId","pointerDown","pointerMove","releasePointerCapture","pointerUp","includeInvisible","allIntersections","intersectObject","isTransformControls","_tempEuler","Euler","_alignVector","_zeroVector","_lookAtMatrix","_tempQuaternion2","_identityQuaternion","_dirVector","_tempMatrix","_unitX","_unitY","_unitZ","_v1","_v2","_v3","gizmoMaterial","depthTest","depthWrite","fog","toneMapped","transparent","gizmoLineMaterial","LineBasicMaterial","matInvisible","clone","opacity","matHelper","matRed","setHex","matGreen","matBlue","matRedTransparent","matGreenTransparent","matBlueTransparent","matWhiteTransparent","matYellowTransparent","matGray","arrowGeometry","CylinderGeometry","translate","scaleHandleGeometry","BoxGeometry","lineGeometry","lineGeometry2","CircleGeometry","arc","TorusGeometry","PI","rotateY","rotateX","gizmoTranslate","XYZ","OctahedronGeometry","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","Line","TranslateHelperGeometry","gizmoRotate","XYZE","E","helperRotate","AXIS","pickerRotate","SphereGeometry","gizmoScale","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tag","updateMatrix","tempGeometry","Infinity","helper","force","handles","concat","children","factor","isOrthographicCamera","bottom","zoom","tan","fov","setFromEuler","setFromRotationMatrix","lookAt","AXIS_HIDE_TRESHOLD","atan2","multiplyQuaternions","showX","showY","showZ","_color","_opacity","split","some","isTransformControlsGizmo","PlaneGeometry","wireframe","side","DoubleSide","isTransformControlsPlane","UniformsLib","worldUnits","Vector2","dashOffset","dashScale","dashSize","gapSize","ShaderLib","uniforms","UniformsUtils","vertexShader","fragmentShader","parameters","clipping","diffuse","defines","WORLD_UNITS","dashed","USE_DASH","alphaToCoverage","USE_ALPHA_TO_COVERAGE","extensions","derivatives","setValues","ShaderMaterial","isLineMaterial","HorizontalBlurShader","VerticalBlurShader","mergeBufferGeometries","geometries","useGroups","isIndexed","attributesUsed","morphAttributesUsed","morphAttributes","morphTargetsRelative","mergedGeometry","offset","attributesCount","userData","mergedUserData","addGroup","indexOffset","mergedIndex","mergedAttribute","mergeBufferAttributes","numMorphTargets","morphAttributesToMerge","mergedMorphAttribute","TypedArray","itemSize","normalized","arrayLength","attribute","isInterleavedBufferAttribute"],"sourceRoot":""}