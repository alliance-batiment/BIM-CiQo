"use strict";(self.webpackChunkciqo=self.webpackChunkciqo||[]).push([[221],{84360:function(e,t,r){r.r(t),r.d(t,{FixedSizeTree:function(){return S},Row:function(){return h},VariableSizeTree:function(){return R}});var n=r(63366),i=r(87462),a=r(94578),o=r(92950),l=r.n(o),u=r(63437),s=r(97326);var c=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},d=function(){},p=function(e,t){return void 0===t&&(t=null),{child:null,isShown:!t||t.public.isOpen&&t.isShown,parent:t,public:e,sibling:null,visited:!1}},f=function(e,t){return(0,t.getRecordData)(e).data.id},h=function(e){var t=e.index,r=e.data,n=r.component,i=r.getRecordData,a=r.treeData,o=e.style,u=e.isScrolling,s=i(t);return l().createElement(n,Object.assign({isScrolling:u,style:o,treeData:a},s))},v=function(e){return function(t,r,n){return n.refresh?function(e,t,r){var n=e.createRecord,i=t.buildingTaskTimeout,a=t.placeholder,o=t.async,l=void 0!==o&&o,u=t.treeWalker,s=l&&void 0!==r.records,c=r.records,d=[],p=new Map,f=i?{timeout:i}:void 0,h=new WeakMap,v=u(),g=v.next().value,b=n(g.data,r,void 0,s?c.get(g.data.id):void 0);p.set(b.public.data.id,b),h.set(b,g);var m=b,S=!0,O=b,R=void 0!==a&&!(null===a&&!r.order),w=R?function(e){return e.timeRemaining()>0}:function(){return!0},D=function e(t){for(;null!==m;){if(!w(t))return void requestIdleCallback(e,f);if(m.visited)m.visited=!1,m=null!==m.sibling?m.sibling:m.parent,O=m;else{var i=v.next(h.get(m)).value;if(void 0===i){S?S=!1:(m.isShown&&d.push(m.public.data.id),m.visited=null!==m.child,m=null!==m.child?m.child:null!==m.sibling?m.sibling:m.parent),O=m;continue}var a=n(i.data,r,S?void 0:m,s?c.get(i.data.id):void 0);p.set(a.public.data.id,a),h.set(a,i),S||O!==m?O.sibling=a:O.child=a,O=a}}R&&r.setState({order:d,records:p,updateRequest:{}})};return R?requestIdleCallback(D,f):D(),void 0!==a&&l&&r.order?r:{order:d,records:p}}(e,t,r):function(e,t){var r=e.order,n=e.records,i=t.opennessState;if("object"!==typeof i)return null;for(var a in i)if(n.has(a)){var o=i[a],l=n.get(a),u="boolean"===typeof o?{open:o}:o,s=u.open,c=u.subtreeCallback,p=void 0===c?d:c,f=d,h=d;l.isShown&&(s?function(){for(var e=r.indexOf(a),t=l;null!==t;){if(null!==t.sibling){t=t.sibling;break}t=t.parent}var n=null===t?r.length-1-e:r.indexOf(t.public.data.id)-1-e,i=[[e+1,n]];f=function(t){if(t.isShown=!t.parent||t.parent.public.isOpen&&t.parent.isShown,t.isShown){var r=i[i.length-1];r.push(t.public.data.id),32770===r.length&&i.push([e+1+32768*i.length,0])}},h=function(){for(var e=0;e<i.length;e++){var t;(t=r).splice.apply(t,i[e])}}}():l.public.isOpen&&function(){var e=r.indexOf(a),t=0;f=function(e){e.isShown&&(t+=1),e.isShown=!e.parent||e.parent.public.isOpen&&e.parent.isShown},h=function(){r.splice(e+1,t)}}());for(var v=l;null!==v;)v.visited?(v.visited=!1,v=v===l?null:null!==v.sibling?v.sibling:v.parent):(v.public.isOpen=v===l?s:v.public.isOpen,p(v.public,l.public),v!==l&&f(v),v.visited=null!==v.child,v=null!==v.child?v.child:v===l?null:null!==v.sibling?v.sibling:v.parent);h()}return{order:r,records:n,updateRequest:{}}}(r,n)}},g=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).getRecordData=n.getRecordData.bind((0,s.Z)(n)),n.state={list:(0,o.createRef)(),recomputeTree:n.recomputeTree.bind((0,s.Z)(n)),setState:n.setState.bind((0,s.Z)(n))},n}(0,a.Z)(t,e),t.getDerivedStateFromProps=function(e,t){var r=e.listRef,n=void 0===r?null:r,a=e.treeWalker,o=t.computeTree,l=t.list,u=t.order,s=t.treeWalker;return(0,i.Z)({attachRefs:c([l,n])},a===s&&u?null:o(e,t,{refresh:!0}),{treeWalker:a})};var r=t.prototype;return r.getItemData=function(){var e=this.props,t=e.children,r=e.itemData;return{component:t,getRecordData:this.getRecordData,treeData:r}},r.getRecordData=function(e){var t=this.state,r=t.order;return t.records.get(r[e]).public},r.recomputeTree=function(e){var t=this;return new Promise((function(r){t.setState((function(r){return r.computeTree(t.props,r,{opennessState:e})}),r)}))},r.scrollTo=function(e){var t;null==(t=this.state.list.current)||t.scrollTo(e)},r.scrollToItem=function(e,t){var r;null==(r=this.state.list.current)||r.scrollToItem(this.state.order.indexOf(e),t)},t}(o.PureComponent);g.defaultProps={rowComponent:h};var b=g,m=v({createRecord:function(e,t,r,n){var i=t.recomputeTree;return p({data:e,isOpen:n?n.public.isOpen:e.isOpenByDefault,setOpen:function(t){var r;return i(((r={})[e.id]=t,r))}},r)}}),S=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).state=(0,i.Z)({},n.state,{computeTree:m}),n}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,t=(e.children,e.listRef,e.placeholder),r=(e.treeWalker,e.rowComponent),i=(0,n.Z)(e,["children","listRef","placeholder","treeWalker","rowComponent"]),a=this.state,o=a.attachRefs,s=a.order;return t&&0===s.length?t:l().createElement(u.FixedSizeList,Object.assign({},i,{itemCount:s.length,itemData:this.getItemData(),itemKey:f,ref:o}),r)},t}(b),O=v({createRecord:function(e,t,r,n){var i=t.recomputeTree,a=t.resetAfterId,o=p({data:e,height:n?n.public.height:e.defaultHeight,isOpen:n?n.public.isOpen:e.isOpenByDefault,resize:function(e,t){o.public.height=e,a(o.public.data.id,t)},setOpen:function(t){var r;return i(((r={})[e.id]=t,r))}},r);return o}}),R=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).getItemSize=n.getItemSize.bind((0,s.Z)(n)),n.state=(0,i.Z)({},n.state,{computeTree:O,resetAfterId:n.resetAfterId.bind((0,s.Z)(n))}),n}(0,a.Z)(t,e);var r=t.prototype;return r.resetAfterId=function(e,t){var r;void 0===t&&(t=!1);var n=this.state,i=n.list,a=n.order;null==(r=i.current)||r.resetAfterIndex(a.indexOf(e),t)},r.recomputeTree=function(t){var r=this;return e.prototype.recomputeTree.call(this,t).then((function(){var e;null==(e=r.state.list.current)||e.resetAfterIndex(0,!0)}))},r.render=function(){var e=this.props,t=(e.children,e.placeholder),r=e.itemSize,i=e.rowComponent,a=(e.treeWalker,(0,n.Z)(e,["children","placeholder","itemSize","rowComponent","treeWalker"])),o=this.state,s=o.attachRefs,c=o.order;return t&&0===c.length?t:l().createElement(u.VariableSizeList,Object.assign({},a,{itemCount:c.length,itemData:this.getItemData(),itemKey:f,itemSize:null!=r?r:this.getItemSize,ref:s}),i)},r.getItemSize=function(e){return this.getRecordData(e).height},t}(b)}}]);
//# sourceMappingURL=221.bundle.js.map